# Solve again Feb 5, 2024 928
class Solution:
    def minMalwareSpread(self, graph: List[List[int]], initial: List[int]) -> int:
        def dfs(willdel):
            visited = set()
            willinf = initial.copy()
            while willinf:
                node = willinf.pop()
                if node == willdel or node in visited: continue
                visited.add(node)
                for connected_node, connected in enumerate(graph[node]):
                    if connected_node not in visited and connected == 1:
                        willinf.append(connected_node)
                
            
            return len(visited)

        return min(initial, key=lambda x: (dfs(x),x))